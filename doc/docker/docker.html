<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Docker&#x6709;&#x5565;&#x7528;</title>
        <style>
/* From extension goessner.mdmath */
@font-face{font-family:KaTeX_AMS;src:url(fonts/KaTeX_AMS-Regular.woff2) format("woff2"),url(fonts/KaTeX_AMS-Regular.woff) format("woff"),url(fonts/KaTeX_AMS-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(fonts/KaTeX_Caligraphic-Bold.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Bold.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Bold.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(fonts/KaTeX_Caligraphic-Regular.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Regular.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(fonts/KaTeX_Fraktur-Bold.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Bold.woff) format("woff"),url(fonts/KaTeX_Fraktur-Bold.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(fonts/KaTeX_Fraktur-Regular.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Regular.woff) format("woff"),url(fonts/KaTeX_Fraktur-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Bold.woff2) format("woff2"),url(fonts/KaTeX_Main-Bold.woff) format("woff"),url(fonts/KaTeX_Main-Bold.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Main-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Main-BoldItalic.ttf) format("truetype");font-weight:700;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Italic.woff2) format("woff2"),url(fonts/KaTeX_Main-Italic.woff) format("woff"),url(fonts/KaTeX_Main-Italic.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Regular.woff2) format("woff2"),url(fonts/KaTeX_Main-Regular.woff) format("woff"),url(fonts/KaTeX_Main-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Math;src:url(fonts/KaTeX_Math-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Math-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Math-BoldItalic.ttf) format("truetype");font-weight:700;font-style:italic}@font-face{font-family:KaTeX_Math;src:url(fonts/KaTeX_Math-Italic.woff2) format("woff2"),url(fonts/KaTeX_Math-Italic.woff) format("woff"),url(fonts/KaTeX_Math-Italic.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:"KaTeX_SansSerif";src:url(fonts/KaTeX_SansSerif-Bold.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Bold.woff) format("woff"),url(fonts/KaTeX_SansSerif-Bold.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:"KaTeX_SansSerif";src:url(fonts/KaTeX_SansSerif-Italic.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Italic.woff) format("woff"),url(fonts/KaTeX_SansSerif-Italic.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:"KaTeX_SansSerif";src:url(fonts/KaTeX_SansSerif-Regular.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Regular.woff) format("woff"),url(fonts/KaTeX_SansSerif-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Script;src:url(fonts/KaTeX_Script-Regular.woff2) format("woff2"),url(fonts/KaTeX_Script-Regular.woff) format("woff"),url(fonts/KaTeX_Script-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size1;src:url(fonts/KaTeX_Size1-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size1-Regular.woff) format("woff"),url(fonts/KaTeX_Size1-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size2;src:url(fonts/KaTeX_Size2-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size2-Regular.woff) format("woff"),url(fonts/KaTeX_Size2-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size3;src:url(fonts/KaTeX_Size3-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size3-Regular.woff) format("woff"),url(fonts/KaTeX_Size3-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size4;src:url(fonts/KaTeX_Size4-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size4-Regular.woff) format("woff"),url(fonts/KaTeX_Size4-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Typewriter;src:url(fonts/KaTeX_Typewriter-Regular.woff2) format("woff2"),url(fonts/KaTeX_Typewriter-Regular.woff) format("woff"),url(fonts/KaTeX_Typewriter-Regular.ttf) format("truetype");font-weight:400;font-style:normal}.katex{font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0;text-rendering:auto}.katex *{-ms-high-contrast-adjust:none!important}.katex .katex-version:after{content:"0.11.1"}.katex .katex-mathml{position:absolute;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathdefault{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-weight:700;font-style:italic}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;vertical-align:bottom;position:relative}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;vertical-align:bottom;font-size:1px;width:2px;min-width:2px}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{display:inline-block;width:100%;border-bottom-style:solid}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{width:0;position:relative}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{display:inline-block;border:0 solid;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{display:inline-block;width:100%;border-bottom-style:solid}.katex .hdashline{display:inline-block;width:100%;border-bottom-style:dashed}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .op-limits>.vlist-t{text-align:center}.katex .accent>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{display:block;position:absolute;width:100%;height:inherit;fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1}.katex svg path{stroke:none}.katex img{border-style:none;min-width:0;min-height:0;max-width:none;max-height:none}.katex .stretchy{width:100%;display:block;position:relative;overflow:hidden}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{width:100%;position:relative;overflow:hidden}.katex .halfarrow-left{position:absolute;left:0;width:50.2%;overflow:hidden}.katex .halfarrow-right{position:absolute;right:0;width:50.2%;overflow:hidden}.katex .brace-left{position:absolute;left:0;width:25.1%;overflow:hidden}.katex .brace-center{position:absolute;left:25%;width:50%;overflow:hidden}.katex .brace-right{position:absolute;right:0;width:25.1%;overflow:hidden}.katex .x-arrow-pad{padding:0 .5em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{box-sizing:border-box;border:.04em solid}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{text-align:left}

/* style for html inside of browsers */
.katex { font-size: 1em !important; } /* align KaTeX font-size to surrounding text */

eq { display: inline-block; }
eqn { display: block}
section.eqno {
    display: flex;
    flex-direction: row;
    align-content: space-between;
    align-items: center;
}
section.eqno > eqn {
    width: 100%;
    margin-left: 3em;
}
section.eqno > span {
    width:3em;
    text-align:right;
}

p { text-align: justify; }

table {
    display: table !important;
    width: auto !important;
    margin-left: auto !important;
    margin-right: auto !important; 
    border-collapse: collapse !important;
}

table th, table td {
    border-left: none !important;
    border-right: none !important;
    border-top: 1px solid #000 !important;
    border-bottom: 1px solid #000 !important;
}

figure {
    margin: 0.5em auto;
}
figure > img {
    display: block;
    margin: 0 auto;
    page-break-inside: avoid;
}
figcaption { 
    display: block;
    text-align: center;
    margin-top: 0.5em;
}

</style>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        
        
        
    </head>
    <body class="vscode-body vscode-light">
        <ul>
<li><a href="#docker%E6%9C%89%E5%95%A5%E7%94%A8">Docker有啥用</a></li>
<li><a href="#docker%E7%9A%84%E5%AE%89%E8%A3%85">Docker的安装</a></li>
<li><a href="#%E8%AE%BE%E7%BD%AE%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F">设置国内镜像</a></li>
<li><a href="#%E6%B5%8B%E8%AF%95docker">测试Docker</a>
<ul>
<li><a href="#%E8%BF%90%E8%A1%8Chello-world">运行hello-world</a></li>
<li><a href="#%E8%BF%90%E8%A1%8Cpython">运行python</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8centos">使用CentOS</a>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85centos">安装CentOS</a></li>
<li><a href="#%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8Ccentos">后台运行CentOS</a></li>
<li><a href="#attach%E8%BF%90%E8%A1%8C%E7%9D%80%E7%9A%84%E9%95%9C%E5%83%8F">attach运行着的镜像</a></li>
<li><a href="#%E9%87%8D%E5%90%AF%E6%88%96%E8%80%85%E7%BB%88%E6%AD%A2">重启或者终止</a></li>
</ul>
</li>
<li><a href="#%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84docker%E9%95%9C%E5%83%8F">制作自己的Docker镜像</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8%E8%BF%9B%E9%98%B6">使用进阶</a>
<ul>
<li><a href="#%E6%8C%82%E8%BD%BD%E7%89%A9%E7%90%86%E6%9C%BA%E7%9B%AE%E5%BD%95">挂载物理机目录</a></li>
<li><a href="#%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84">端口映射</a></li>
</ul>
</li>
<li><a href="#%E5%A6%82%E6%9E%9C%E4%BD%A0%E9%9C%80%E8%A6%81ai">如果你需要AI</a></li>
<li><a href="#%E4%BD%A0%E9%9C%80%E8%A6%81%E8%87%AA%E5%B7%B1%E5%AE%9A%E5%88%B6%E9%95%9C%E5%83%8F%E5%90%97">你需要自己定制镜像吗？</a></li>
</ul>
</li>
<li><a href="#%E6%80%BB%E7%BB%93">总结</a></li>
</ul>
<h1 id="docker有啥用">Docker有啥用</h1>
<p>Docker是一款开源应用容器引擎，我们可以认为Docker是运行于物理主机之上的虚拟机，在这个虚拟机上，可以运行各种各样的程序（甚至操作系统）。为什么要在虚拟机上运行程序，程序不是直接可以装在物理机上（比如windows系统）中吗？下面我们来看几个典型应用场景：</p>
<ol>
<li>你需要学习Linux操作系统，但你只有一台Windows电脑。</li>
<li>你需要学习ROS（机器人操作系统），但你只有一台Windows电脑。</li>
<li>你需要学习vue开发，为此你需要安装Node.js、NPM、vue-cli等一系列工具，但你只有一台Windows电脑。</li>
<li>你在Windows电脑上开发了一个网站，该网站需要Python、Nginx服务器、MySQL数据库等运行环境，你希望在同学的电脑上部署该网站，但你的同学是一个果粉，他只有Mac电脑。</li>
<li>你是一个新手程序员，你想学习Python、C++、Java，但你不会安装开发环境。</li>
</ol>
<p>以上的问题均可以使用Docker轻松解决。我们可以将Linux、ROS、Python、C++、Java等打包为Docker镜像（Docker Image），然后将镜像在Docker虚拟机上运行（如下图所示）。用户在使用时，尽管使用的是Docker虚拟机中的程序，但用户无法分辨程序是运行在物理机上还是虚拟机上。由于Docker是跨平台的，因此只要物理机可以安装Docker，那么就能运行任何Docker镜像。</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/docker%E8%BF%90%E8%A1%8C%E9%95%9C%E5%83%8F.png" alt="docker运行镜像"></p>
<p>简言之，对于场景1-5，只要有对应的Docker镜像，就能立刻运行镜像，然后开始使用软件。这就为跨平台部署、软件配置等工作提供了极大的便利。对于新手程序员的，如果不想把时间浪费在环境的安装、配置上，使用Docker也可以极大简化学习过程。同时，新手程序员也可以在Docker上学习各种软件的安装和配置，而不用担心搞坏物理主机（因为虚拟机是运行在物理机上的沙箱SandBox，你可以随便折腾，搞坏了重新建一个就行）。</p>
<p>说一千道一万，不如实际用一遍。下面我们就来学习一下Docker的使用。本文档不如<a href="https://www.runoob.com/docker/docker-tutorial.html">菜鸟Docker教程</a>全面，建议你在阅读本文档之后，进一步阅读<a href="https://www.runoob.com/docker/docker-tutorial.html">菜鸟Docker教程</a>。或者在遇到问题是，阅读<a href="https://www.runoob.com/docker/docker-tutorial.html">菜鸟Docker教程</a>。</p>
<h1 id="docker的安装">Docker的安装</h1>
<p>在使用Docker之前，你需要学会安装Docker。各种操作系统安装Docker的教程可以参考：</p>
<ol>
<li><a href="https://www.runoob.com/docker/windows-docker-install.html">Windows</a></li>
<li><a href="https://www.runoob.com/docker/macos-docker-install.html">Mac</a></li>
<li><a href="https://www.runoob.com/docker/centos-docker-install.html">CentOS</a></li>
<li><a href="https://www.docker.com">官方文档</a>，菜鸟教程可能较官方已经过时，因此如果遇到安装问题，建议直接按照官方文档安装</li>
</ol>
<p>Windows和Mac的安装都非常傻瓜化，下载安装包，一通Next即可。</p>
<h1 id="设置国内镜像">设置国内镜像</h1>
<p>Docker镜像的一个重要来源是<a href="https://registry.hub.docker.com">DockerHub</a>，这个网站在国内访问起来很慢，因此需要设置国内的加速。设置方法参考如下教程：</p>
<ol>
<li><a href="https://www.runoob.com/docker/docker-mirror-acceleration.html">Docker镜像加速</a></li>
</ol>
<p>如果你对网速有信心，或者你搞不懂镜像的设置，可以跳过这一步。使用时除了慢点，也没啥大毛病。</p>
<h1 id="测试docker">测试Docker</h1>
<p>安装好Docker，也设置好镜像，下面就可以测试一下Docker的使用。我们来做两个例子。</p>
<h2 id="运行hello-world">运行hello-world</h2>
<p>切换到命令行下（对windows命令行操作不熟悉的同学，可以看<a href="https://www.jianshu.com/p/4262b8603e9e">这里</a>），执行如下指令：</p>
<pre><code class="language-plain"><code><div>docker run hello-world
</div></code></code></pre>
<p>如果执行成功，你将看到如下输出(可能会略有区别)：</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/hello-world%E8%BE%93%E5%87%BA.png" alt="hello-world输出"></p>
<p>执行如下指令：</p>
<pre><code class="language-plain"><code><div>docker images
</div></code></code></pre>
<p>你可以看到一个名称为<code>hello-world</code>的镜像已经从DockerHub上拉取下来了，docker run执行了这个镜像。</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/hello-world%E9%95%9C%E5%83%8F.png" alt="hello-world镜像"></p>
<h2 id="运行python">运行python</h2>
<p>下面我们用Docker来使用python，先利用searc指令查找DockerHub上的python镜像</p>
<pre><code class="language-plain"><code><div>docker search python
</div></code></code></pre>
<p>显示如下结果（可能会有差异）：</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/docker_search_python.png" alt="docker search python"></p>
<p>我们安装并运行第一个</p>
<pre><code class="language-plain"><code><div>docker pull python
</div></code></code></pre>
<p>该指令只从网上拉取python但不运行（拉取过程如下图）</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/docker_pull_python.png" alt="docker pull python">
要想运行还需要执行</p>
<pre><code class="language-plain"><code><div>docker run python
</div></code></code></pre>
<p><code>居然啥也没有！！</code>其实正确的指令是：</p>
<pre><code class="language-plain"><code><div>docker run -i -t python
</div></code></code></pre>
<p><code>-i</code>表示以<code>interactive</code>方式运行，<code>-t</code>表示为用户分配一个<code>tty</code>(百度一下tty是啥意思)，于是就能开启交互式的python窗口，如下图：</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/docker_run_python.png" alt="docker run python"></p>
<p><code>没有安装任何Python软件，但我们先做可以用Python编程了！</code>在刚才那条指令中，<code>python</code>是DockerHub上的Docker镜像的名字。<code>docker pull</code>拉取了<code>python镜像</code>，<code>docker run</code>执行了<code>python镜像</code>。现在我们应该记住两个常用的docker指令：</p>
<ol>
<li>docker pull [镜像名称]，从DockerHub上拉取一个镜像。</li>
<li>docker run [镜像名称]，运行镜像，如果镜像不存在，则从DockerHub上拉取。</li>
</ol>
<h2 id="使用centos">使用CentOS</h2>
<h3 id="安装centos">安装CentOS</h3>
<p><a href="https://www.centos.org">CentOS</a>是一款Linux操作系统。Linux操作系统在服务器端、移动设备和嵌入式设备中广泛使用，是目前使用最为广泛的操作系统（Android手机均运行Linux）。要在个人电脑上安装CentOS是非常复杂的，例如B站上的视频，也是用VMware这款虚拟机来安装（视频见<a href="https://www.bilibili.com/video/BV1fs411b77N?from=search&amp;seid=6500461877887601692">这里</a>）。现在我们用Docker来安装、使用CentOS。首先搜索一下：</p>
<pre><code><code><div>docker search centos
</div></code></code></pre>
<p>有很多CentOS镜像</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/centos_images.png" alt="centos images"></p>
<p>我们使用第一个</p>
<pre><code><code><div>docker pull centos
</div></code></code></pre>
<p>下载完成后，使用<code>docker images</code>指令，可以看到下载后的centos镜像，如下：</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/%E4%B8%8B%E8%BD%BD%E5%90%8E%E7%9A%84centos%E9%95%9C%E5%83%8F.png" alt="下载后的centos镜像"></p>
<p>用<code>docker run</code>启动镜像</p>
<pre><code><code><div>docker run -i -t centos
</div></code></code></pre>
<p>然后就可以进入centos系统，并执行指令，如下：</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/%E8%BF%9B%E5%85%A5centos.png" alt="进入centos"></p>
<p>现在你还不理解centos能做什么，目前你只需要知道centos是和Windows一样强大的操作系统（应该是更强大）。</p>
<p>在centos中执行<code>exit</code>就可以退出，退出之后centos就终止了。</p>
<h3 id="后台运行centos">后台运行CentOS</h3>
<p>如果我们希望centos一直运行呢？下面我们来看看如何让centos在后台运行。</p>
<p>执行如下指令:</p>
<pre><code><code><div>docker run -d -i -t --name centosA centos
docker run -d -i -t --name centosB centos
</div></code></code></pre>
<p>每次执行都会出现了一串奇怪的数字。请注意<code>-d</code>这个参数，它的含义是让运行的虚拟机在后台运行。简言之，执行<code>exit</code>会退出centos，但centos操作系统不会终止运行。我们执行如下指令就可以看到运行中的centos:</p>
<pre><code><code><div>docker container ls
</div></code></code></pre>
<p>或者</p>
<pre><code><code><div>docker ps
</div></code></code></pre>
<p>可以看到运行着的docker镜像</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/%E8%BF%90%E8%A1%8C%E7%9D%80%E7%9A%84centos.png" alt="运行着的centos"></p>
<p><code>--name</code>的作用则是为运行的镜像加上名字，方便后续的操作。</p>
<h3 id="attach运行着的镜像">attach运行着的镜像</h3>
<p>现在执行操作<code>docker attach centosA</code>就可以进入名称为<code>centosA的docker镜像</code>。如果执行<code>docker attach centosB</code>就可以进入名称为<code>centosB的docker镜像</code>。</p>
<p>试试如下操作：</p>
<ol>
<li>docker attach centosA</li>
<li>touch centosA.txt</li>
<li>ls /</li>
<li>exit</li>
</ol>
<p>接着</p>
<ol>
<li>docker attach centosA</li>
<li>touch centosB.txt</li>
<li>ls /</li>
<li>exit</li>
</ol>
<p>效果如下：</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/%E6%93%8D%E4%BD%9C%E4%B8%8D%E5%90%8Ccentos.png" alt="操作不同centos"></p>
<h3 id="重启或者终止">重启或者终止</h3>
<p><strong>注意：</strong> 在执行上述操作时如果遇到centos已经终止，可以执行<code>restart</code>重新启动镜像：</p>
<pre><code><code><div>docker restart centosA
docker restart centosB
</div></code></code></pre>
<p>如果想要终止镜像的执行则可以使用<code>kill</code>指令：</p>
<pre><code><code><div>docker kill centosA
docker kill centosB
</div></code></code></pre>
<h2 id="制作自己的docker镜像">制作自己的Docker镜像</h2>
<p>Docker最强大的功能在于用户可以定制自己的镜像。考虑下面的应用场景：</p>
<pre><code>刘老师每年给大一新生上Python程序设计课程，需要CentOS系统的计算机，并且安装Python、pip（Python的包管理工具）、numpy、scipy、matplotlib和jupyter等工具。
</code></pre>
<p>刘老师现在有两个选择：</p>
<ol>
<li>在实验室中找一台机器，配置好环境，然后把这台机器的环境，克隆到其他计算机。</li>
<li>制作一个Docker镜像。</li>
</ol>
<p>刘老师一定会选择第二种方式，因为第一种方式需要花费刘老师半天的时间，而第二种方式只需要几分钟。你没看错，<code>第一种方式需要半天，第二种方式只要几分钟</code>。下面给出做法：</p>
<ol>
<li>找一个文本编辑器，比如记事本。</li>
<li>编写一个名称为Dockerfile的文件。</li>
</ol>
<p>Dockerfile(见文件<a href="code/centos-python1/Dockerfile">doc/docker/code/centos-python1/Dockerfile</a>)中包含如下内容：</p>
<pre><code class="language-Dockerfile"><div><span class="hljs-comment">#以centos镜像为基础</span>
<span class="hljs-keyword">FROM</span> centos
<span class="hljs-comment">#安装epel（好像这一步不是必须的）</span>
<span class="hljs-keyword">RUN</span><span class="bash"> yum -y install epel-release</span>
<span class="hljs-comment">#安装python3.8</span>
<span class="hljs-keyword">RUN</span><span class="bash"> yum -y install python38</span>
<span class="hljs-comment">#用pip3安装numpy scipy matplotlib sympy pandas jupyter</span>
<span class="hljs-keyword">RUN</span><span class="bash"> pip3 install -i https://mirrors.aliyun.com/pypi/simple/ numpy scipy matplotlib sympy pandas jupyter</span>
</div></code></pre>
<p>你可以直接拷贝上述代码。下面我们生成Docker镜像，在Dockerfile所在目录，执行如下指令：</p>
<pre><code><code><div>docker build -t centos-python1:latest .
</div></code></code></pre>
<p>千万<strong>注意</strong>最后有一个<code>.</code>，表示Dockerfile在执行指令的当前目录。如果你在本文档的根目录，那么执行：</p>
<pre><code><code><div>docker build -t centos-python1:latest doc/docker/code/centos-python1 
</div></code></code></pre>
<p><code>-t</code>表示给生成的镜像加一个名字，格式是<code>name:tag</code>，<code>centos-python1:latest</code>就是镜像的名称。执行这个指令之后，你就能够看到镜像的生成过程，如下：</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/%E9%95%9C%E5%83%8F%E7%94%9F%E6%88%90%E8%BF%87%E7%A8%8B.png" alt="镜像生成过程"></p>
<p>之后用<code>docker images</code>指令可以查看到生成的镜像</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/%E7%94%9F%E6%88%90%E7%9A%84centos-python1%E9%95%9C%E5%83%8F.png" alt="生成的centos-python1镜像"></p>
<p>下面是激动人心的时刻，执行<code>docker run</code>启动该镜像，就可以使用python（安装了numpy scipy matplotlib sympy pandas jupyter）</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/%E4%BD%BF%E7%94%A8centos-python1.png" alt="使用centos-python1"></p>
<p><strong>刘老师只需要把写好的Dockerfile拷贝给同学们，就可以为所有人配置好环境（前提是每个人都安装好Docker，并学会基本的使用）。</strong> 如果对老师安装的环境不满意，调整也非常简单，只需要修改Dockerfile并重新生成镜像即可。</p>
<h2 id="使用进阶">使用进阶</h2>
<h3 id="挂载物理机目录">挂载物理机目录</h3>
<p>Docker镜像运行在虚拟机中（顺便说一句，运行的镜像称为容器Container），虚拟机无法直接访问物理机的硬盘，物理机也无法直接访问虚拟机的文件。这样具有更高的安全性，不会因为虚拟机程序的崩溃导致物理机的问题。但偶尔我们也需要在虚拟机中访问物理机的文件，因此就需要用到挂载物理机目录。方法很简单，在启动容器时，加上一个参数<code>-v</code>，指令如下：</p>
<pre><code><code><div>docker run -i -t -v [物理机目录]:[虚拟机目录] centos-python1
</div></code></code></pre>
<p>该指令将<code>[物理机目录]</code>映射到<code>[虚拟机目录]</code>，例如：</p>
<pre><code><code><div>docker run -i -t -v /Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/code/centos-python1:/mnt centos-python1
</div></code></code></pre>
<p>就将<code>/Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/code/centos-python1</code>这个目录映射到了虚拟机的<code>/mnt</code>目录下。我们可以看看效果：</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/%E6%8C%82%E8%BD%BD%E7%9B%AE%E5%BD%95.png" alt="挂载目录"></p>
<p>下面我们可以利用物理机的VSCode编辑一个python文件，然后在虚拟机中执行。请看截图：</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/%E6%8C%82%E8%BD%BD%E7%9B%AE%E5%BD%95%E5%B9%B6%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6.png" alt="挂载目录并执行文件"></p>
<h3 id="端口映射">端口映射</h3>
<p>jupyter notebook是基于网页的交互式Python开发工具。在刚才的镜像中，我们已经安装了jupyter。执行<code>jupyter notebook --allow-root</code>就可以启动（如下图）。</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/%E5%90%AF%E5%8A%A8jupyter.png" alt="启动jupyter"></p>
<p>但通过物理机的浏览器无法访问到notebook。其原因在于notebook所在的8888端口，无法在物理机访问，因此我们需要把端口映射到物理机中。启动时加入<code>-p</code>参数，如下：</p>
<pre><code><code><div>docker run -p 8888:8888 -i -t centos-python1
</div></code></code></pre>
<p>另外远程访问jupyter notebook存在一些安全限制，为了解决这些安全限制，需要做一些配置（此处约有2000字的配置）。同样，我们可以用Docker简化这个配置过程。
我们生成一个新的Dockerfile(<a href="code/centos-python2/Dockerfile">doc/docker/code/centos-python2/Dockerfile</a>)，源代码如下：</p>
<pre><code class="language-Dockerfile"><div><span class="hljs-comment">#以centos镜像为基础</span>
<span class="hljs-keyword">FROM</span> centos
<span class="hljs-comment">#拷贝.jupter目录到/root/.jupyter目录</span>
<span class="hljs-keyword">RUN</span><span class="bash"> mkdir -p /root/.jupyter</span>
<span class="hljs-keyword">COPY</span><span class="bash"> .jupyter /root/.jupyter</span>
<span class="hljs-comment">#安装epel（好像这一步不是必须的）</span>
<span class="hljs-keyword">RUN</span><span class="bash"> yum -y install epel-release</span>
<span class="hljs-comment">#安装python3.8</span>
<span class="hljs-keyword">RUN</span><span class="bash"> yum -y install python38</span>
<span class="hljs-comment">#用pip3安装numpy scipy matplotlib sympy pandas jupyter</span>
<span class="hljs-keyword">RUN</span><span class="bash"> pip3 install -i https://mirrors.aliyun.com/pypi/simple/ numpy scipy matplotlib sympy pandas jupyter</span>
</div></code></pre>
<p>生成镜像需要在目录<a href="code/centos-python2/">code/centos-python2/</a>下面，因为这个目录中有一个<code>.jupyter</code>目录。在生成镜像时该目录会拷贝到镜像中（使用<code>COPY</code>指令）。具体怎么配置的？别管那么多，反正运行如下指令生成新的镜像即可。</p>
<pre><code><code><div> docker build -t centos-python2:latest .
</div></code></code></pre>
<p>之后运行<code>centos-python2</code>镜像</p>
<pre><code><code><div>docker run -i -t -p 8888:8888 centos-python2
</div></code></code></pre>
<p>在虚拟机中执行<code>jupyter notebook --allow-root</code></p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AEjupyter.png" alt="远程访问jupyter"></p>
<p>之后进入浏览器，访问<code>http://localhost:8888</code>，输入密码<code>123</code>，即可进入jupyter notebook。</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%90%AF%E5%8A%A8jupyter.png" alt="浏览器启动jupyter"></p>
<p>接着创建python代码</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/%E5%88%9B%E5%BB%BApython%E4%BB%A3%E7%A0%81.png" alt="创建python代码"></p>
<p>执行一个酷一点的</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/jupyter%E6%89%A7%E8%A1%8Cpython.png" alt="jupyter执行python"></p>
<h2 id="如果你需要ai">如果你需要AI</h2>
<p>给你一段Dockerfile</p>
<pre><code class="language-Dockerfile"><div><span class="hljs-keyword">FROM</span> centos
<span class="hljs-comment">#拷贝.jupter目录到/root/.jupyter目录</span>
<span class="hljs-keyword">RUN</span><span class="bash"> mkdir -p /root/.jupyter</span>
<span class="hljs-keyword">COPY</span><span class="bash"> .jupyter /root/.jupyter</span>
<span class="hljs-comment">#安装epel（好像这一步不是必须的）</span>
<span class="hljs-keyword">RUN</span><span class="bash"> yum -y install epel-release</span>
<span class="hljs-comment">#安装python3.8</span>
<span class="hljs-keyword">RUN</span><span class="bash"> yum -y install python38</span>
<span class="hljs-comment">#用pip3安装numpy scipy matplotlib sympy pandas jupyter</span>
<span class="hljs-keyword">RUN</span><span class="bash"> pip3 install -i https://mirrors.aliyun.com/pypi/simple/ numpy scipy matplotlib sympy pandas jupyter</span>
<span class="hljs-comment">#安装TensorFlow</span>
<span class="hljs-keyword">RUN</span><span class="bash"> pip3 install -i https://mirrors.aliyun.com/pypi/simple/ tensorflow</span>
<span class="hljs-comment">#安装Pytorch</span>
<span class="hljs-keyword">RUN</span><span class="bash"> pip3 install -i https://mirrors.aliyun.com/pypi/simple/ torch </span>
<span class="hljs-keyword">RUN</span><span class="bash"> pip3 install -i https://mirrors.aliyun.com/pypi/simple/ torchvision</span>
</div></code></pre>
<p>生成这个镜像（你并不需要理解上面的代码，虽然理解起来不难），自己试试。启动jupyter notebook，接下来就可以训练AI了。</p>
<p>友情提示：上述代码构建时需要的内存较大，提升docker的内存限制，以下是MacOS中的方法：</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/%E6%8F%90%E9%AB%98%E5%86%85%E5%AD%98%E9%99%90%E5%88%B6.png" alt="提高内存限制"></p>
<p>在命令行中执行，<code>docker stats</code>指令，可以查看当前运行的容积的内存占用情况。<code>docker run</code>的<code>-m</code>参数可以提高或者限制容器的内存占用。</p>
<p><img src="file:////Users/liuji/Documents/教学/明月班-软件设计/sd_doc/doc/docker/images/docker%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5.png" alt="docker内存占用情况"></p>
<h2 id="你需要自己定制镜像吗">你需要自己定制镜像吗？</h2>
<p>通常是不需要的，DockerHub上能找到各种镜像，课程中老师会给你提供各种镜像，百度上可以找到各种Dockerfile。有了Docker，世界真的变得很轻松。</p>
<h1 id="总结">总结</h1>
<p>通过本文档你应该掌握如下的知识：</p>
<ol>
<li>如何pull docker镜像（<code>docker pull</code>）</li>
<li>如何run docker镜像（<code>docker run</code>）</li>
<li>如何build docker镜像（<code>docker build</code>）</li>
<li>如何挂载目录（<code>-v</code>参数）</li>
<li>如何映射端口（<code>-p</code>参数）</li>
</ol>
<p>请照着这个文档做一遍，有问题参考<a href="https://www.runoob.com/docker/docker-tutorial.html">菜鸟Docker教程</a>，或者上网百度。</p>

    </body>
    </html>